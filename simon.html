<!DOCTYPE html>
<html>
<head>
  <title>Simon Game</title>
  <style>
    /* CSS styling for the game */
    body {
      font-family: Arial, sans-serif;
      background-color: #fafafa;
    }
    .game-container {
      margin: 20px auto;
      width: 300px;
      height: 300px;
      border: 1px solid #ccc;
      display: flex;
      flex-wrap: wrap;
      align-content: flex-start;
      padding: 5px;
    }
    .game-button {
      flex-basis: 50%;
      height: 50%;
      box-sizing: border-box;
      cursor: pointer;
      position: relative;
    }
    .red {
      background-color: #ff4136;
    }
    .green {
      background-color: #2ecc40;
    }
    .blue {
      background-color: #0074d9;
    }
    .yellow {
      background-color: #ffdc00;
    }
    .score {
      text-align: center;
      font-size: 24px;
      margin-bottom: 10px;
    }
    .game-over {
      text-align: center;
      font-size: 24px;
      color: red;
      display: none;
    }
    .btn-container {
      text-align: center;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="btn-container">
    <button onclick="startGame()">Start Game</button>
  </div>
  <h1 class="score" id="score">Score: 0</h1>
  <div class="game-container">
    <div class="game-button red" onclick="handleClick('red')"></div>
    <div class="game-button green" onclick="handleClick('green')"></div>
    <div class="game-button blue" onclick="handleClick('blue')"></div>
    <div class="game-button yellow" onclick="handleClick('yellow')"></div>
  </div>
  <div class="game-over" id="game-over">Game Over</div>

  <script>
    // JavaScript code for the Simon Game

    // Game variables
    var sequence = [];
    var playerSequence = [];
    var round = 0;
    var score = 0;
    var gameActive = false;
    var buttons = document.getElementsByClassName("game-button");
    var scoreDisplay = document.getElementById("score");
    var gameOverDisplay = document.getElementById("game-over");

    // Colors for the game buttons
    var colors = {
      red: "#ff4136",
      green: "#2ecc40",
      blue: "#0074d9",
      yellow: "#ffdc00",
    };

    // Start the game
    function startGame() {
      resetGame();
      nextRound();
      gameActive = true;
    }

    // Reset the game state
    function resetGame() {
      sequence = [];
      playerSequence = [];
      round = 0;
      score = 0;
      scoreDisplay.textContent = "Score: " + score;
      gameOverDisplay.style.display = "none";
    }

    // Generate the next sequence for the round
    function nextRound() {
      var nextColor = getRandomColor();
      sequence.push(nextColor);
      playSequence();
      round++;
    }

    // Play the sequence of colors
    function playSequence() {
      disableButtons();
      var i = 0;
      var interval = setInterval(function () {
        flashButton(sequence[i]);
        i++;
        if (i >= sequence.length) {
          clearInterval(interval);
          enableButtons();
        }
      }, 1000);
    }

    // Flash the game button with the specified color
    function flashButton(color) {
      var button = getButtonByColor(color);
      if (button) {
        button.style.backgroundColor = colors[color];
        setTimeout(function () {
          button.style.backgroundColor = "";
        }, 500);
      }
    }

    // Handle button clicks
    function handleClick(color) {
      if (gameActive) {
        playerSequence.push(color);
        flashButton(color);

        if (!checkSequence()) {
          endGame();
          return;
        }

        if (playerSequence.length === sequence.length) {
          score++;
          scoreDisplay.textContent = "Score: " + score;
          playerSequence = [];
          setTimeout(function () {
            nextRound();
          }, 1000);
        }
      }
    }

    // Check if the player's sequence matches the game sequence
    function checkSequence() {
      for (var i = 0; i < playerSequence.length; i++) {
        if (playerSequence[i] !== sequence[i]) {
          return false;
        }
      }
      return true;
    }

    // End the game
    function endGame() {
      gameActive = false;
      gameOverDisplay.style.display = "block";
    }

    // Disable game buttons
    function disableButtons() {
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].style.pointerEvents = "none";
      }
    }

    // Enable game buttons
    function enableButtons() {
      for (var i = 0; i < buttons.length; i++) {
        buttons[i].style.pointerEvents = "auto";
      }
    }

    // Get a random color from the available colors
    function getRandomColor() {
      var colorNames = Object.keys(colors);
      var randomIndex = Math.floor(Math.random() * colorNames.length);
      return colorNames[randomIndex];
    }

    // Get the game button element by color
    function getButtonByColor(color) {
      for (var i = 0; i < buttons.length; i++) {
        if (buttons[i].classList.contains(color)) {
          return buttons[i];
        }
      }
      return null;
    }
  </script>
</body>
</html>
