<!DOCTYPE html>
<html>
<head>
  <title>Snake Game</title>
  <style>
    /* CSS styling for the game */
    body {
      font-family: Arial, sans-serif;
      background-color: #fafafa;
    }
    .game-container {
      margin: 20px auto;
      width: 400px;
      height: 400px;
      border: 1px solid #ccc;
      position: relative;
      overflow: hidden;
    }
    .snake {
      position: absolute;
      background-color: green;
      width: 20px;
      height: 20px;
    }
    .food {
      position: absolute;
      background-color: red;
      width: 20px;
      height: 20px;
    }
  </style>
</head>
<body>
  <div class="game-container" id="game-container"></div>

  <script>
    // JavaScript code for the Snake game

    // Game constants
    const GRID_SIZE = 20; // Size of each grid cell in pixels
    const CONTROLS = {
      UP: "ArrowUp",
      DOWN: "ArrowDown",
      LEFT: "ArrowLeft",
      RIGHT: "ArrowRight",
    };

    // Game variables
    let snake = [{ x: 0, y: 0 }];
    let food = getRandomFoodPosition();
    let direction = CONTROLS.RIGHT;
    let gameInterval;

    // Get a random position for the food within the game container
    function getRandomFoodPosition() {
      const x = Math.floor(Math.random() * GRID_SIZE) * GRID_SIZE;
      const y = Math.floor(Math.random() * GRID_SIZE) * GRID_SIZE;
      return { x, y };
    }

    // Start the game
    function startGame() {
      snake = [{ x: 0, y: 0 }];
      food = getRandomFoodPosition();
      direction = CONTROLS.RIGHT;
      gameInterval = setInterval(update, 200); // Update the game every 200ms
    }

    // Update the game state
    function update() {
      // Move the snake
      const head = { x: snake[0].x, y: snake[0].y };
      switch (direction) {
        case CONTROLS.UP:
          head.y = (head.y - GRID_SIZE + GRID_SIZE * GRID_SIZE) % (GRID_SIZE * GRID_SIZE);
          break;
        case CONTROLS.DOWN:
          head.y = (head.y + GRID_SIZE) % (GRID_SIZE * GRID_SIZE);
          break;
        case CONTROLS.LEFT:
          head.x = (head.x - GRID_SIZE + GRID_SIZE * GRID_SIZE) % (GRID_SIZE * GRID_SIZE);
          break;
        case CONTROLS.RIGHT:
          head.x = (head.x + GRID_SIZE) % (GRID_SIZE * GRID_SIZE);
          break;
      }

      // Check for collision with self
      if (snake.some((segment) => segment.x === head.x && segment.y === head.y)) {
        // Game over
        clearInterval(gameInterval);
        alert("Game Over");
        return;
      }

      // Move the snake
      snake.unshift(head);

      // Check if the snake has eaten the food
      if (head.x === food.x && head.y === food.y) {
        // Increase the length of the snake
        food = getRandomFoodPosition();
      } else {
        snake.pop();
      }

      // Update the game display
      draw();
    }

    // Draw the game state on the screen
    function draw() {
      const gameContainer = document.getElementById("game-container");
      gameContainer.innerHTML = "";

      // Draw the snake
      snake.forEach((segment) => {
        const snakeElement = document.createElement("div");
        snakeElement.style.left = segment.x + "px";
        snakeElement.style.top = segment.y + "px";
        snakeElement.className = "snake";
        gameContainer.appendChild(snakeElement);
      });

      // Draw the food
      const foodElement = document.createElement("div");
      foodElement.style.left = food.x + "px";
      foodElement.style.top = food.y + "px";
      foodElement.className = "food";
      gameContainer.appendChild(foodElement);
    }

    // Handle keydown events for controlling the snake
    document.addEventListener("keydown", (event) => {
      const key = event.key;
      if (key === CONTROLS.UP && direction !== CONTROLS.DOWN) {
        direction = CONTROLS.UP;
      } else if (key === CONTROLS.DOWN && direction !== CONTROLS.UP) {
        direction = CONTROLS.DOWN;
      } else if (key === CONTROLS.LEFT && direction !== CONTROLS.RIGHT) {
        direction = CONTROLS.LEFT;
      } else if (key === CONTROLS.RIGHT && direction !== CONTROLS.LEFT) {
        direction = CONTROLS.RIGHT;
      }
    });

    // Start the game when the page loads
    startGame();
  </script>
</body>
</html>
